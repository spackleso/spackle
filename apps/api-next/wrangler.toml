name = "spackle-api"
compatibility_date = "2023-12-01"
main = "src/index.ts"
node_compat = true

[vars]
ENVIRONMENT = "development"
ORIGIN = "http://localhost:3000"

[env.production]
logpush = true
routes = [
  { pattern = "api.spackle.so", custom_domain = true },
  { pattern = "edge.spackle.so", custom_domain = true },
  { pattern = "us-east-1.edge.spackle.so", custom_domain = true },
  { pattern = "us-west-2.edge.spackle.so", custom_domain = true }
]

[env.production.vars]
ENVIRONMENT = "production"
ORIGIN = "https://spackle-cksxj3a32-bolder-research.vercel.app"
POSTHOG_API_HOST = "https://app.posthog.com"